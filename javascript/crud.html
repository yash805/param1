<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="crud.css">
    <title>Document</title>
  </head>
  <body onload="read()">
    <div class="c">
      <div class="fc">
        <form class="create">
          <input type="text" class="name" />
          <input type="email" class="email" />
          <button type="button" onclick="add()">Create</button>
        </form>
        <form class="update">
          <input type="text" class="uname" />
          <input type="email" class="uemail" />
          <button type="button">update</button>
        </form>
        <div class="add">
            <button onclick="create()">Add</button>
        </div>
        <table>
          <thead>
            <th>Name</th>
            <th>Email</th>
            <th>Action</th>
          </thead>
          <tbody class="data_table"></tbody>
        </table>
      </div>
    </div>


    <script>

let data = [
    {id:1, name:"sam", email:"sam@gmail.com"},
    {id:2, name:"jack", email:"jack@gmail.com"},
]

function read(){
    localStorage.setItem("object",JSON.stringify(data));

    let tabledata = document.querySelector(".data_table");

    let object = localStorage.getItem("object");
    let objdata = JSON.parse(object);
    let elm = "";

    objdata.map((a)=>{
        elm += `<tr>
            <td>${a.name}</td>
            <td>${a.email}</td>
            <td>
                <button class="edit" onclick={edit(${data.id})}>Edit</button>
                <button class="delete" onclick={delete()}>Delete</button>
            </td>
            </tr>`
    })
    
   tabledata.innerHTML = elm;
}

function create(){
   

}
function add(){
    let name = document.querySelector(".name").value;
    let email = document.querySelector(".email").value;
    let newobj = {id: 3, name:name, email:email};
    data.push(newobj);

    read();

}

function edit(id){

}
    </script>
  </body>
</html>
